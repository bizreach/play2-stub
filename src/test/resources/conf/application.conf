
play2handlebars {
  root = "/app/views"
  enableCache = false
  useClassLoaderTemplate = false
}


play2stub {
  // 共通設定
  view-root = "/app/views"
  data-root = "/app/data"

  // 本当に共通があるかどうか。パスを指定したいのか。
  common {
    headers {
      Content-Type  = application/json
      x-auth-header = some-uuid-uuid-uuid-uuid
    }
  }

  // パスを指定した共通設定。
  filters {
    "secured/*" {
      headers {
        Content-Type  = application/json
        x-auth-header = some-uuid-uuid-uuid-uuid
      }
    }
  }

  // 各ルート設定
  routes {
    index {
      headers {
        Content-Type  = application/json
        x-auth-header = some-uuid-uuid-uuid-uuid
      }
    }

    // CoC template mapping
    // "author" = "views/author.hbs"
    // "author" = "views/author__post.hbs"

    "GET test1" {
      data = "test1.json"
    }

    // Explicit parameter mapping
    "GET author/:autherId/books" {
      params = {
        aid = ":autherId"
      }
    }

    // Explicit template mapping (pattern1)
    "GET author/:autherId/book/:bookId views/auther/book" {
      params = {
        aid = ":autherId"
      }
    }

    // Explicit template mapping (pattern 2)
    "GET author/:autherId/book/:bookId" {
      template = "views/auther/book/:authorId"
      params = {
        book = ":bookId"
      }
    }

    // Explicit template mapping (pattern 3)
    "GET author/:autherId/profile" = "views/auther/profile"

    // Explicit template mapping (pattern 4)
    "GET author/:autherId/profile" {
      template = {
        path   = "views/auther/profile"
        engine = "hbs"
      }
      params = {
        aid = ":autherId"
      }
      headers {
        Content-Type  = application/json
        x-auth-header = some-uuid-uuid-uuid-uuid
      }
      status = 400
    }

    // Explicit data file mapping
    "author/:autherId/book/:bookId" {
      template = "views/author/book"
      // json の中のパラメータ変更は可能にするか否か。
      data = "data/author/:autherId/book.json"
    }

    // TODO
    //   従属するリクエストに対する対応は可能？
    //     親のHTMLは pattern1 なので、子の AJAX も pattern1 を指定したいケース
  }
}